<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">

  <!-- MAIN IMPORTS -->
  <script src="/node_modules/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"></script>
  <script src="/node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
  <script src="/node_modules/web-component-tester/browser.js"></script>

  <script src="/node_modules/@polymer/test-fixture/test-fixture.js"></script>
  <!-- All bundle -->
  <script src="/dist/bundle.js" async></script>
</head>

<body>

  <test-fixture id="element">
    <template>
      <px-app name="Px App"></px-app>
    </template>
  </test-fixture>


  <script>
    suite('<px-app>', () => {
      let element;

      setup(() => {
        element = fixture('element');
      });

      suite('Test Properties', () => {
        test('Default Properties', () => {
          assert.equal(element.name, 'Px App');
          assert.equal(element.someProp, 'awesome prop');
        });
      });

      suite('Test Behaviors', () => {
        test('Property "someProp" should change after 2000 ms', done => {
          assert.equal(element.someProp, 'awesome prop');
          setTimeout(() => {
            assert.equal(element.someProp, 'chaaaaaaange', 'Property changed after 2000ms correctly');
            done();
          }, 2001)
        });
      });

    });
  </script>
</body>

</html>
